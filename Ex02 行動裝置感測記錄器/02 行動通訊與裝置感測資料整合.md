# 行動通訊與裝置感測資料整合  
資料整合的必要性及一些案例

## 為什麼需要結合行動通訊與感測資料？  
核心價值：

- 即時性：隨時隨地傳送感測數據
- 移動性：在移動中持續收集資料
- 情境感知：結合位置與環境資訊
- 遠端監控：即時掌握裝置狀態  

技術基礎：
- 行動網路 (4G/5G) 提供連線能力
- 感測器收集實體世界數據
- JSON 作為**標準**資料交換格式  

## 案例一 - 地圖定位服務
GPS定位資料結構：  
```json
{
  "locationData": {
    "deviceId": "mobile-001",
    "timestamp": "2024-01-15T10:30:00Z",
    "coordinates": {
      "latitude": 25.0345,  //緯度
      "longitude": 121.5647,  //經度
      "accuracy": 5.2
    },
    "movement": {
      "speed": 12.5,
      "heading": 45.2,
      "altitude": 25.0
    },
    "networkInfo": {
      "signalStrength": -75,
      "networkType": "5G"
    }
  }
}
```

## 經度及緯度補充  
**經度**   
定義：連接南北兩極的大圓線上的半圓弧。  
基準：本初子午線（位於英國格林威治）為 $(0^{\circ })$。  
方向：分為東經和西經，東經 $(180^{\circ })$ 和西經 $(180^{\circ })$ 相同，並構成國際換日線。  
計算：地球自轉一圈 $(360^{\circ })$ 需要 $24$ 小時，因此每小時地球會向東自轉 $(15^{\circ })$。     

**緯度**  
定義：以地表某一點到地心的直線與赤道的夾角來表示。  
基準：赤道為 $(0^{\circ })$。  
方向：分為北緯和南緯，從赤道到北極為北緯 $(90^{\circ })$，到南極為南緯 $(90^{\circ })$。  
特殊緯線：南北回歸線約在緯度 $(23.5^{\circ })$。  

**台灣的經緯度** 
台灣本島：約在東經 $(120^{\circ }$)$ E 至 $(122^{\circ })$ E，北緯 $(22^{\circ }) N$ 至 $(25^{\circ }) N$ 之間。  
台灣的時區：屬於 UTC+8 時區。   

## 案例二 - 運動健康紀錄
運動感測資料整合：  
```json
{
  "fitnessSession": {
    "sessionId": "fit-20240115-1030",
    "userId": "user123",
    "activityType": "running",
    "startTime": "2024-01-15T10:00:00Z",
    "duration": 1800,
    "sensorData": {
      "heartRate": {
        "current": 125,
        "average": 118,
        "max": 145,
        "unit": "bpm"
      },
      "steps": 4250,
      "calories": 320,
      "gpsPath": [
        {"lat": 25.0330, "lng": 121.5650, "time": "10:00:05"},
        {"lat": 25.0335, "lng": 121.5655, "time": "10:05:30"}
      ],
      "deviceMetrics": {
        "batteryLevel": 65,
        "connectionStatus": "stable"
      }
    }
  }
}
```

## 案例三 - 環境感測報告
多感測器資料收集：  
```json
{
  "environmentalReport": {
    "stationId": "sensor-station-01",
    "location": "台北市信義區",
    "timestamp": "2024-01-15T10:15:00Z",
    "readings": {
      "temperature": {
        "value": 26.5,
        "unit": "celsius"
      },
      "humidity": { //濕度
        "value": 65,
        "unit": "percent"
      },
      "airQuality": {
        "pm2_5": 35,
        "pm10": 42,
        "aqi": 52
      },
      "noiseLevel": {
        "value": 45.2,
        "unit": "decibel"
      }
    },
    "deviceStatus": {
      "battery": 78,
      "signalQuality": "excellent",
      "lastMaintenance": "2024-01-01"
    }
  }
}
```

## JSON在行動感測的優勢與實作
JSON格式優勢：
- 輕量級：節省頻寬與電力
- 可讀性：易於除錯與開發
- 擴充性：容易新增感測器資料
- 標準化：跨平台相容  

完整行動感測系統範例：  
```json
{
  "mobileSensorPackage": {
    "metadata": {
      "deviceId": "smartphone-xyz123",
      "appVersion": "2.1.0",
      "os": "Android 14",
      "transmissionId": "tx-001"
    },
    "sensorFusion": {
      "motion": {
        "accelerometer": {"x": 0.12, "y": -0.05, "z": 9.81}, //加速度
        "gyroscope": {"x": 1.2, "y": 0.8, "z": -0.3},  //陀螺儀
        "magnetometer": {"x": 25.1, "y": -12.3, "z": 45.6}  //磁力計
      },
      "position": {
        "gps": {"lat": 25.0330, "lng": 121.5650, "accuracy": 3.2},
        "wifiPositioning": {"confidence": 0.85},
        "cellTowerTriangulation": {"towers": 4} //基地台塔三角測量
      },
      "environment": {
        "ambientLight": 250,  //環境光線感測, 周圍環境的光照強度, 勒克斯 (lux)
        "proximity": "near",  //接近感測, 裝置與附近物體的距離
        "barometer": 1013.25  //氣壓計, 感測大氣壓力, 百帕 (hPa) 或 毫巴 (mbar)
      }
    },
    "networkInfo": {
      "connectionType": "5G",
      "signalStrength": -68,
      "dataUsage": {"sessionKB": 125, "totalMB": 2450}
    },
    "timestamp": "2024-01-15T10:30:15.123Z"
  }
}
```


##  實際應用練習
設計一個智慧騎乘系統的JSON結構：
- 位置追蹤
- 速度與距離
- 環境感測
- 裝置狀態  

```json
{
  "smartRide": {
    "rideId": "ride-20240115-1030",
    "cyclistId": "cyclist456",
    "realTimeData": {
      "position": {"lat": 25.035, "lng": 121.567, "speed": 15.2},
      "metrics": {"distance": 8.5, "calories": 210, "elevationGain": 45},
      "environment": {"temperature": 28, "windSpeed": 12, "roadCondition": "dry"}
    },
    "safetyAlerts": ["highSpeed", "lowBattery"],
    "deviceStatus": {"battery": 25, "gpsSignal": "strong"}
  }
}
```

## 總結
即時傳輸：行動網路實現即時資料傳送
多源整合：結合多種感測器資料
標準格式：JSON統一資料結構
情境感知：位置+環境+狀態完整情境
